# MCP Time Server

ä¸€ä¸ªåŸºäº FastMCP æ¡†æ¶å¼€å‘çš„æ—¶é—´ç®¡ç†æœåŠ¡å™¨ï¼Œå¯ä»¥ä¸ Cherry Studioã€Cursor ç­‰ AI å¹³å°é›†æˆä½¿ç”¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ• æ—¶é—´æŸ¥è¯¢
- è·å–å½“å‰æ—¶é—´ï¼ˆæ ‡å‡†æ ¼å¼ + è¯­ä¹‰æ ¼å¼ï¼‰
- æ”¯æŒå¤šç§æ—¶é—´æ ¼å¼è¾“å‡º
- æœ¬åœ°æ—¶åŒºè‡ªåŠ¨è¯†åˆ«

### â° æé†’ç®¡ç†
- è®¾ç½®åŸºäºæ—¶é—´çš„æé†’
- æ”¯æŒç›¸å¯¹æ—¶é—´ï¼ˆå¦‚"10åˆ†é’Ÿå"ï¼‰å’Œç»å¯¹æ—¶é—´ï¼ˆISOæ ¼å¼ï¼‰
- è‡ªåŠ¨è§¦å‘å’ŒçŠ¶æ€ç®¡ç†
- æé†’ç¡®è®¤å’Œå–æ¶ˆåŠŸèƒ½

### â±ï¸ å€’è®¡æ—¶åŠŸèƒ½
- åˆ›å»ºå„ç§æ—¶é•¿çš„å€’è®¡æ—¶
- å®æ—¶çŠ¶æ€ç›‘æ§
- è‡ªåŠ¨å®Œæˆé€šçŸ¥
- å€’è®¡æ—¶ç®¡ç†ï¼ˆå–æ¶ˆã€æŸ¥çœ‹çŠ¶æ€ï¼‰

### ğŸ”„ åå°ç›‘æ§
- ç‹¬ç«‹åå°æœåŠ¡æŒç»­ç›‘æ§
- åˆ°ç‚¹è‡ªåŠ¨æ§åˆ¶å°è¾“å‡ºæé†’
- æ•°æ®æŒä¹…åŒ–å­˜å‚¨

## å®‰è£…å’Œè¿è¡Œ

### 1. å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨ uvï¼ˆæ¨èï¼‰
uv sync

# æˆ–ä½¿ç”¨ pip
pip install fastmcp mcp[cli]
```

### 2. è¿è¡ŒæœåŠ¡å™¨
```bash
python main.py
```

### 3. é›†æˆåˆ° AI å¹³å°

#### Cherry Studio é›†æˆ
åœ¨ Cherry Studio ä¸­æ·»åŠ  MCP æœåŠ¡å™¨é…ç½®ï¼š
```json
{
  "name": "æ—¶é—´ç®¡ç†æœåŠ¡å™¨",
  "command": "python",
  "args": ["path/to/main.py"],
  "env": {}
}
```

#### Cursor é›†æˆ
åœ¨ Cursor ä¸­é…ç½® MCP æœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨ç¼–ç è¿‡ç¨‹ä¸­è°ƒç”¨æ—¶é—´ç›¸å…³åŠŸèƒ½ã€‚

## å¯ç”¨å·¥å…·

### æ—¶é—´æŸ¥è¯¢å·¥å…·
- `get_current_time(format_type="both")` - è·å–å½“å‰æ—¶é—´

### æé†’ç®¡ç†å·¥å…·
- `set_reminder(time_str, message)` - è®¾ç½®æé†’
- `list_reminders(status="all")` - æŸ¥çœ‹æé†’åˆ—è¡¨
- `check_triggered_reminders()` - æ£€æŸ¥å·²è§¦å‘çš„æé†’
- `acknowledge_reminder(reminder_id)` - ç¡®è®¤æé†’
- `cancel_reminder(reminder_id)` - å–æ¶ˆæé†’

### å€’è®¡æ—¶å·¥å…·
- `start_countdown(duration, message="")` - å¼€å§‹å€’è®¡æ—¶
- `list_countdowns(status="running")` - æŸ¥çœ‹å€’è®¡æ—¶åˆ—è¡¨
- `get_countdown_status(countdown_id)` - è·å–å€’è®¡æ—¶çŠ¶æ€
- `cancel_countdown(countdown_id)` - å–æ¶ˆå€’è®¡æ—¶

### èµ„æºæ¥å£
- `time://current` - å½“å‰æ—¶é—´èµ„æº
- `reminders://active` - æ´»è·ƒæé†’èµ„æº
- `countdowns://running` - è¿è¡Œä¸­çš„å€’è®¡æ—¶èµ„æº

## ä½¿ç”¨ç¤ºä¾‹

### ä¸ AI å¯¹è¯ç¤ºä¾‹

**æŸ¥è¯¢æ—¶é—´ï¼š**
```
ç”¨æˆ·ï¼šç°åœ¨å‡ ç‚¹äº†ï¼Ÿ
AIï¼šè°ƒç”¨ get_current_time()
å“åº”ï¼šç°åœ¨æ˜¯ä»Šå¤©ä¸‹åˆ2ç‚¹30åˆ†ï¼ˆ2024-01-15T14:30:00ï¼‰
```

**è®¾ç½®æé†’ï¼š**
```
ç”¨æˆ·ï¼š10åˆ†é’Ÿåæé†’æˆ‘å¼€ä¼š
AIï¼šè°ƒç”¨ set_reminder("10åˆ†é’Ÿå", "å¼€ä¼š")
å“åº”ï¼šæé†’å·²è®¾ç½®ï¼šå¼€ä¼šï¼Œå°†åœ¨ä»Šå¤©ä¸‹åˆ2ç‚¹40åˆ†æé†’æ‚¨
```

**åˆ›å»ºå€’è®¡æ—¶ï¼š**
```
ç”¨æˆ·ï¼šå¼€å§‹ä¸€ä¸ª25åˆ†é’Ÿçš„ç•ªèŒ„é’Ÿ
AIï¼šè°ƒç”¨ start_countdown("25åˆ†é’Ÿ", "ç•ªèŒ„é’Ÿå·¥ä½œæ—¶é—´")
å“åº”ï¼šå€’è®¡æ—¶å·²å¼€å§‹ï¼šç•ªèŒ„é’Ÿå·¥ä½œæ—¶é—´ï¼Œæ—¶é•¿ 1500 ç§’
```

**æ£€æŸ¥çŠ¶æ€ï¼š**
```
ç”¨æˆ·ï¼šè¿˜å‰©å¤šå°‘æ—¶é—´ï¼Ÿ
AIï¼šè°ƒç”¨ get_countdown_status(countdown_id)
å“åº”ï¼šè¿˜å‰©18åˆ†é’Ÿ32ç§’
```

## æ—¶é—´æ ¼å¼æ”¯æŒ

### ç›¸å¯¹æ—¶é—´æ ¼å¼
- "5åˆ†é’Ÿå" / "5 minutes later"
- "1å°æ—¶å" / "1 hour later"  
- "30ç§’å" / "30 seconds later"

### ç»å¯¹æ—¶é—´æ ¼å¼
- ISO 8601: "2024-01-15T15:30:00"
- ç®€åŒ–æ ¼å¼: "2024-01-15 15:30:00"

## æ•°æ®å­˜å‚¨

- æé†’æ•°æ®: `data/reminders.json`
- å€’è®¡æ—¶æ•°æ®: `data/countdowns.json`
- è‡ªåŠ¨åˆ›å»º `data` ç›®å½•
- æ”¯æŒæœåŠ¡å™¨é‡å¯åæ•°æ®æ¢å¤

## é¡¹ç›®ç»“æ„

```
mcp_server_time/
â”œâ”€â”€ main.py           # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ pyproject.toml    # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md         # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ uv.lock          # ä¾èµ–é”å®š
â””â”€â”€ data/            # æ•°æ®å­˜å‚¨ç›®å½•
    â”œâ”€â”€ reminders.json
    â””â”€â”€ countdowns.json
```

## å¼€å‘å’Œæ‰©å±•

### æ·»åŠ æ–°å·¥å…·
```python
@mcp.tool()
def your_tool(param: str) -> dict:
    """å·¥å…·æè¿°"""
    # å®ç°é€»è¾‘
    return {"result": "success"}
```

### æ·»åŠ æ–°èµ„æº
```python
@mcp.resource("your://resource")
def your_resource() -> str:
    """èµ„æºæè¿°"""
    return json.dumps(data)
```

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

